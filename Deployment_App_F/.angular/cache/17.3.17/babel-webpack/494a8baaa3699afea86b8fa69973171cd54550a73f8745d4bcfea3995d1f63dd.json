{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../job.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport let DeploymentJobCreateComponent = /*#__PURE__*/(() => {\n  class DeploymentJobCreateComponent {\n    jobService;\n    route;\n    router;\n    job = {\n      name: '',\n      environment: 'DEV',\n      status: 'PENDING'\n    };\n    isEdit = false;\n    constructor(jobService, route, router) {\n      this.jobService = jobService;\n      this.route = route;\n      this.router = router;\n    }\n    ngOnInit() {\n      const id = this.route.snapshot.paramMap.get('id');\n      if (id) {\n        this.isEdit = true;\n        this.jobService.getJob(+id).subscribe({\n          next: data => {\n            this.job = {\n              ...data\n            };\n          },\n          error: err => console.error('Error fetching job:', err)\n        });\n      }\n    }\n    createOrUpdateJob() {\n      if (this.isEdit && this.job.id) {\n        this.jobService.updateJob(this.job.id, this.job).subscribe({\n          next: () => this.router.navigate(['/']),\n          error: err => console.error('Error updating job:', err)\n        });\n      } else {\n        this.jobService.createJob(this.job).subscribe({\n          next: () => this.router.navigate(['/']),\n          error: err => console.error('Error creating job:', err)\n        });\n      }\n    }\n    static ɵfac = function DeploymentJobCreateComponent_Factory(t) {\n      return new (t || DeploymentJobCreateComponent)(i0.ɵɵdirectiveInject(i1.JobService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i2.Router));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: DeploymentJobCreateComponent,\n      selectors: [[\"app-deployment-job-create\"]],\n      decls: 28,\n      vars: 5,\n      consts: [[3, \"ngSubmit\"], [\"name\", \"name\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"name\", \"environment\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"DEV\"], [\"value\", \"STAGING\"], [\"value\", \"PROD\"], [\"name\", \"status\", 3, \"ngModelChange\", \"ngModel\"], [\"value\", \"PENDING\"], [\"value\", \"RUNNING\"], [\"value\", \"SUCCESS\"], [\"value\", \"FAILED\"], [\"type\", \"submit\"]],\n      template: function DeploymentJobCreateComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"h2\");\n          i0.ɵɵtext(1);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(2, \"form\", 0);\n          i0.ɵɵlistener(\"ngSubmit\", function DeploymentJobCreateComponent_Template_form_ngSubmit_2_listener() {\n            return ctx.saveJob();\n          });\n          i0.ɵɵelementStart(3, \"label\");\n          i0.ɵɵtext(4, \"Name:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"input\", 1);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function DeploymentJobCreateComponent_Template_input_ngModelChange_5_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.job.name, $event) || (ctx.job.name = $event);\n            return $event;\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"label\");\n          i0.ɵɵtext(7, \"Environment:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"select\", 2);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function DeploymentJobCreateComponent_Template_select_ngModelChange_8_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.job.environment, $event) || (ctx.job.environment = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(9, \"option\", 3);\n          i0.ɵɵtext(10, \"DEV\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"option\", 4);\n          i0.ɵɵtext(12, \"STAGING\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(13, \"option\", 5);\n          i0.ɵɵtext(14, \"PROD\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"label\");\n          i0.ɵɵtext(16, \"Status:\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(17, \"select\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function DeploymentJobCreateComponent_Template_select_ngModelChange_17_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.job.status, $event) || (ctx.job.status = $event);\n            return $event;\n          });\n          i0.ɵɵelementStart(18, \"option\", 7);\n          i0.ɵɵtext(19, \"PENDING\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"option\", 8);\n          i0.ɵɵtext(21, \"RUNNING\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"option\", 9);\n          i0.ɵɵtext(23, \"SUCCESS\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"option\", 10);\n          i0.ɵɵtext(25, \"FAILED\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(26, \"button\", 11);\n          i0.ɵɵtext(27);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵtextInterpolate(ctx.isEdit ? \"Update Deployment Job\" : \"Create Deployment Job\");\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.job.name);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.job.environment);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.job.status);\n          i0.ɵɵadvance(10);\n          i0.ɵɵtextInterpolate(ctx.isEdit ? \"Update\" : \"Create\");\n        }\n      },\n      dependencies: [i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n      styles: [\"[_nghost-%COMP%]{display:block;padding:20px;font-family:Arial,sans-serif;max-width:500px;margin:0 auto}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px;color:#2c3e50;text-align:center}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;background-color:#f9f9f9;padding:20px;border-radius:6px;box-shadow:0 2px 6px #0000001a}label[_ngcontent-%COMP%]{margin-bottom:6px;font-weight:700;color:#34495e}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{margin-bottom:16px;padding:10px;font-size:14px;border:1px solid #ccc;border-radius:4px;outline:none;transition:border-color .2s ease-in-out}input[_ngcontent-%COMP%]:focus, select[_ngcontent-%COMP%]:focus{border-color:#3498db}button[_ngcontent-%COMP%]{padding:10px;font-size:16px;background-color:#27ae60;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s ease-in-out}button[_ngcontent-%COMP%]:hover{background-color:#1e8449}\"]\n    });\n  }\n  return DeploymentJobCreateComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}